<div class="w-100">
  <div class="flex-p">
      <div class="row wrap">
          <div class="col-xs-10 no-padding">
              <div class="col-sm-12" style="margin-top: 7px !important">
                <button [ngClass]="{'tabActive': isInception === true}" mat-raised-button (click)="fnInception()"
                class="mat-raised-button tab"> Structure
              </button>
              <button [ngClass]="{'tabActive': isControl === true}" mat-raised-button (click)="fnControl()"
                class="mat-raised-button tab"> Architecture
              </button>
              <button [ngClass]="{'tabActive': isTests === true}" mat-raised-button (click)="fnTest()"
                class="mat-raised-button tab"> Plumbing 
              </button>
              <button [ngClass]="{'tabActive': isContractor === true}" mat-raised-button (click)="fnContractor()"
              class="mat-raised-button tab"> Electrical
            </button>
            <button [ngClass]="{'tabActive': isFighting === true}" mat-raised-button (click)="fnFighting()"
              class="mat-raised-button tab"> Fire Fighting
            </button>
              </div>
            </div>
      </div>
  </div>


  <form>
      <div fxLayout="row wrap" *ngIf="filterToggle">
          <div fxFlex="100" fxFlex.gt-sm fxFlex.sm class="flex-p w-100 padding-15">
              <mat-card class="filter">
                  <mat-card-content>
                      <div class="row col-sm-12 no-padding">
                          <div class="col-sm-4 no-padding">
                              <div class="col-sm-5 no-padding m-t-5" style="text-align: right;">Keyword:</div>
                              <div class="col-sm-7">
                                  <input placeholder="Enter keyword" type="text">
                              </div>
                          </div>
                          <div class="col-sm-4 no-padding">
                              <div class="col-sm-5 no-padding m-t-5" style="text-align: right;">Ref. No.:</div>
                              <div class="col-sm-7">
                                  <input type="text" placeholder="Enter Ref. No.">
                                  <mat-autocomplete #auto="matAutocomplete">
                                      <mat-option [value]="0">8761</mat-option>
                                      <mat-option [value]="0">8771</mat-option>
                                      <mat-option [value]="0">8772</mat-option>
                                  </mat-autocomplete>
                              </div>
                          </div>

                          <div class="col-sm-4 no-padding">
                              <div class="col-sm-5 no-padding m-t-5" style="text-align: right;">Project Manager:</div>
                              <div class="col-sm-7">
                                  <mat-select formControlName="ProjectManagerIds" class='select-option form-control'
                                      placeholder="--Search by PM --" multiple>
                                      <mat-option [value]="0">Select All</mat-option>
                                      <mat-option [value]="0">Amit</mat-option>
                                      <mat-option [value]="0">Shiva</mat-option>
                                  </mat-select>
                              </div>
                          </div>


                      </div>

                      <div class="row col-sm-12 no-padding" style="margin-top:20px">
                          <div class="col-sm-4 no-padding">
                              <div class="col-sm-5 no-padding m-t-5" style="text-align: right;">Branch Office:</div>
                              <div class="col-sm-7">
                                  <mat-select formControlName="BranchIds" class='select-option form-control'
                                      placeholder="--Search by Branch Office --" multiple>
                                      <mat-option [value]="0">Select All</mat-option>
                                      <mat-option [value]="1">Delhi</mat-option>
                                      <mat-option [value]="1">Punjab</mat-option>
                                      <mat-option [value]="1">Telangana</mat-option>
                                  </mat-select>
                              </div>
                          </div>
                          <div class="col-sm-4 no-padding">
                              <div class="col-sm-5 no-padding m-t-5" style="text-align: right;">Staff:</div>
                              <div class="col-sm-7">
                                  <mat-select formControlName="StaffIds" class='select-option form-control'
                                      placeholder="--Search by Staff --" multiple>
                                      <mat-option [value]="0">Select All</mat-option>
                                      <mat-option [value]="1">Raj</mat-option>
                                      <mat-option [value]="1">Shiva</mat-option>
                                      <mat-option [value]="1">Lavanya</mat-option>
                                      <mat-option [value]="1">Harsha</mat-option>
                                  </mat-select>
                              </div>
                          </div>
                          <div class="col-sm-4 no-padding">
                              <div class="col-sm-5 no-padding m-t-5 " style="text-align: right;">Action Type:</div>
                              <div class="col-sm-7">
                                  <mat-select formControlName="ActionIds" class='select-option form-control'
                                      placeholder="--Search by Action --" multiple>
                                      <mat-option [value]="0">Select All</mat-option>
                                      <mat-option [value]="1">One</mat-option>
                                      <mat-option [value]="1">Two</mat-option>
                                  </mat-select>
                              </div>
                          </div>
                      </div>
                      <div class="row col-sm-12 no-padding" style="margin-top:20px">
                          <div class="col-sm-8"></div>
                          <div class="col-sm-4">
                              <a (click)="filterToggle = !filterToggle" class="pull-right" style="font-size: 25px;">
                                  <i class="fas fa-angle-double-up" aria-hidden="true"></i>
                              </a>

                              <button mat-raised-button class="pull-right" type="button" style="margin:0px 10px">
                                  <mat-icon>settings_backup_restore</mat-icon> Reset
                              </button>
                              <button mat-raised-button color="primary" type="submit"
                                  class="pull-right filters-hover btn-primary">
                                  <mat-icon>youtube_searched_for</mat-icon>
                                  Search
                              </button>
                          </div>
                      </div>
                  </mat-card-content>
              </mat-card>
          </div>
      </div>
  </form>


  <div class="col-sm-12 flex-p">
      <div class="col-sm-6 total-card padding-10">
          <span><b>Scheduled Hours:</b> 23:00 Hrs </span>
          <span><b>Unscheduled Hours:</b> 37:30 Hrs </span>
          <span><b>Total Hours:</b> 60:30 Hrs </span>
      </div>
      <div class="col-sm-4"></div>
      <div class="col-sm-2 no-padding" style="margin-right:0px !important;margin-top: 5px">
          <div class="col-sm-12 no=padding">
              <button mat-raised-button class="pull-right add-hover-help btn-success-help">
                  <mat-icon>help_outline</mat-icon> Help
              </button>
              <button mat-raised-button color="primary" class="pull-right filters-hover margin-right-10">
                  <mat-icon>filter_list</mat-icon> Filter
              </button>
          </div>
      </div>

  </div>
  <div class="col-sm-12 margin-top-10" >
      <mat-tab-group   mat-stretch-tabs>
          <mat-tab label="Grid View"  >
              <div class="w-100 ">
                  <div class="col-sm-12 no-padding" style="padding-top:15px!important;padding-bottom:15px!important">
                      <div class="col-sm-5 padding-10" style="background: #9e9e9e59; ">
                          <span
                              style="background-color: red; margin-left:20px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;<span
                              style="color:black">Fixed Date</span>
                          <span
                              style="background-color: #2196f3;margin-left: 60px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;<span
                              style="color:black">Flex Date</span>
                          <span
                              style="background-color: #5d5d5d;margin-left: 60px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;<span
                              style="color:black">To be scheduled later</span>
                      </div>

                      <div class="col-sm-5 offset-sm-2 no-padding" style="display: flex;">

                          <div class="col-sm-2" style="text-align: right; position: relative; top: 7px">
                              <label>Type: </label>
                          </div>
                          <div class="col-sm-4 no-padding">
                              <mat-select class="form-control" placeholder="--Select--">
                                  <mat-option value="1">Unscheduled</mat-option>
                                  <mat-option value="2">Scheduled</mat-option>
                                  <!-- <mat-option value="3">Pending/Rejected</mat-option> -->
                              </mat-select>
                          </div>
                          <div class="col-sm-1">
                              <button mat-mini-fab class="btn-success" type="button" style="bottom: 3px;">
                                  <mat-icon>youtube_searched_for</mat-icon>
                              </button>
                          </div>
                          <div class="col-sm-5 no-padding text-right">

                              <button mat-raised-button class="add-hover btn-primary" type="button">
                                  <mat-icon>send</mat-icon>&nbsp;Save
                              </button>
                              <button mat-raised-button color="primary" style="margin-left: 10px;"
                                  class="filters-hover">
                                  <mat-icon>autorenew</mat-icon> Reset
                              </button>
                          </div>
                      </div>

                  </div>
                  <div class="col-sm-12">

                      <table class="table table-striped table-bordered table-hover">
                          <thead class="tbl-head">
                              <tr class="tr-grid-header text-center">
                                  <th class="text-center">Inst</th>
                                  <th class="text-center">Created</th>
                                  <th class="text-center">Ref No</th>
                                  <th class="text-center">Project Manager</th>
                                  <th class="text-center">Site</th>
                                  <th class="text-center">Level</th>
                                  <th class="text-center">Street Address</th>
                                  <th class="text-center">Actions</th>
                                  <th class="text-center">Job Code</th>
                                  <th class="text-center">Planned</th>
                                  <th class="text-center">Due Date</th>
                                  <th class="text-center">Schedule Date</th>
                                  <th class="text-center">Assign</th>
                                  <th class="text-center">Assign User</th>
                                  <th class="text-center">Manage</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr *ngFor="let item of gridtable">
                                  <td class="text-center"><a class="anchor" matTooltip="Edit Action"
                                          style="cursor: pointer;">
                                          <mat-icon style="color: #398dde">speaker_notes</mat-icon>
                                      </a></td>
                                  <td class="text-center">{{item.created}} </td>
                                  <td class="text-center" style="color: #398dde; cursor: pointer;">{{item.refno}}</td>
                                  <td class="text-center">{{item.projman}} </td>
                                  <td class="text-center">{{item.site}} </td>
                                  <td class="text-center">{{item.sow}} </td>
                                  <td class="text-center">{{item.streetadd}}</td>
                                  <th class="text-center" style="color: #398dde; cursor: pointer;">{{item.actions}}
                                  </th>
                                  <th class="text-center">{{item.jobcode}} </th>
                                  <th class="text-center">{{item.planned}} </th>
                                  <th class="text-center" style="color: #398dde; cursor: pointer;">{{item.due}} hrs
                                  </th>
                                  <th class="text-center" style="width: 130px;">
                                      <input class="form-control" class="form-control text-center"
                                          placeholder="MM/DD/YYYY" (keypress)="false" [owlDateTimeTrigger]="dt17"
                                          [owlDateTime]="dt17" name="dt17">
                                      <owl-date-time [pickerType]="'calendar'" #dt17></owl-date-time>
                                  </th>
                                  <th class="text-center" style="width: 115px;"><input maxlength="5"
                                          class="form-control" type="text" placeholder="Hours"> </th>
                                  <th class="text-center">
                                      <mat-select class="form-control" placeholder="-- Select User --">
                                          <mat-option value="1">Shiva</mat-option>
                                          <mat-option value="2">Sachin</mat-option>
                                          <mat-option value="3">Raj</mat-option>
                                          <mat-option value="4">Sameer</mat-option>
                                      </mat-select>
                                  </th>
                                  <th class="text-center">
                                      <mat-icon style="color: #398dde">add</mat-icon>
                                      <mat-icon style="color: red">delete</mat-icon>
                                  </th>
                              </tr>
                          </tbody>
                          <td *ngIf="summaryTable?.length == 0" colspan="9" style="text-align: center !important"> No
                              data available </td>
                      </table>


                  </div>
              </div>
          </mat-tab>
          <mat-tab label="Board View">
             
              <div class="row col-12 d-flex">
                  <div class="col-4 mx-auto middle">
                    <img style="margin-top: 15%; display: flex; margin-left: auto; margin-right: auto;" src="/assets/img/under-construction.png" height="300px" alt="under-construction">
                  </div>
                </div>

<!-- 
              <div>
                  <div class="col-sm-12 padding-15">
                      <div class="row">
                          <div class="col-sm-12 no-padding">
                              <button mat-raised-button class="pull-left" style="color:white; background:#0e7bbb;" (click)="changeMenu()">
                                          <mat-icon>menu</mat-icon>
                                      </button>
                                      <div class="col-sm-5 no-padding">
                                          <div class="d-f">
                                              <div class="margin-top-5">
                                                  From Date: <input class="form-control" class="form-control"
                                                  placeholder="MM/DD/YYYY" (keypress)="false" [owlDateTimeTrigger]="dt1117"
                                                  [owlDateTime]="dt1117" name="dt1117">
                                              <owl-date-time [pickerType]="'calendar'" #dt1117></owl-date-time>
                                          </div>
                                          <div class="margin-top-5">
                                                  To Date: <input class="form-control" class="form-control"
                                                  placeholder="MM/DD/YYYY" (keypress)="false" [owlDateTimeTrigger]="dt177"
                                                  [owlDateTime]="dt177" name="dt177">
                                              <owl-date-time [pickerType]="'calendar'" #dt177></owl-date-time>
                                              </div>
                                              <div class="">
                                              <button mat-mini-fab class="btn-success" (click)="showWeek = true;showDay = false; getSechduledActionsByCustomDate()">
                                                  <mat-icon>youtube_searched_for</mat-icon>
                                              </button>
                                              <button mat-mini-fab style="margin-left: 10px; background-color: #cc2020f5;"
                                              (click)="fromDate = ''; toDate = ''; this.activeButton = 2;showWeek = true;showDay = false; this.viewType = 2; getSechduledActionsByWeek()">
                                                  <span>
                                                      <mat-icon style="vertical-align: inherit;">settings_backup_restore</mat-icon> 
                                                  </span>
                                              </button>
                                          </div>
                                  </div>
                              </div>
                              <a mat-raised-button class="pull-right remove_top_bottom_padding" (click)="fromDate = ''; toDate = ''; this.activeButton = 3;showWeek = true;showDay = false; this.viewType = 4; getSechduledActionsByWeek()" [class.Active]="activeButton==3">
                                      Next Week
                                  </a>

                              <a mat-raised-button class="pull-right margin-right-10 remove_top_bottom_padding" (click)="fromDate = ''; toDate = ''; this.activeButton = 2;showWeek = true;showDay = false; this.viewType = 2; getSechduledActionsByWeek()" [class.Active]="activeButton==2">
                                      This Week
                                  </a>
                              <a mat-raised-button class="pull-right remove_top_bottom_padding filterBtns margin-right-10" (click)="fromDate = ''; toDate = ''; this.activeButton = 1;showWeek = true;showDay = false; this.viewType = 3; getSechduledActionsByWeek()" [class.Active]="activeButton==1">
                                      Last Week
                                  </a>
                              <a mat-raised-button class="pull-right remove_top_bottom_padding filterBtns margin-right-10" (click)="fromDate = ''; toDate = ''; this.activeButton = 4;showDay = true;showWeek = false; this.viewType = 1; getSechduledActionsByWeek()" [class.Active]="activeButton==4">
                                      Day View
                                  </a>
                                  
                          </div>
                      </div>
                  </div>

                  <div class="">
                      <div  *ngIf="!isMenuOn"   class="col-sm-2 no-padding" style="min-height: 500px !important;">

                          <table style="min-height: 500px !important; width:225px" class="table table-striped  table-hover">
                              <thead class="tbl-head">
                                  <tr class="tr-grid-header text-center">
                                      <th class="text-center">Unassigned Actions</th>
                                  </tr>
                              </thead>
                              <tbody class="fixed-h-w-s">
                                  <tr>
                                      <div class="drag-container">
                                          <div class="section-heading"></div>

                                          <div cdkDropList   class="item-list min-ht">

                                              <mat-card cdkDrag id="unassigned" (dblclick)="highlightUnscheduledAction(action.ManageActionId)" 
                                              class="item-box space-tab-master" *ngFor="let action of actionSchedulingList; let j = index" 
                                              style="border-radius: 6px!important;" 
                                              [style.background]="(action.DueDate) ? '#dddddd42' : 'rgba(130, 122, 122, 0.35)'" [ngClass]="getStatusClass(action)">
                                                  <div class="move-handle" cdkDragHandle>
                                                      <svg *ngIf="permissions.write == true" width="24px" fill="currentColor" viewBox="0 0 24 24" style="width: 18px;">
                                                        <path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path>
                                                        <path d="M0 0h24v24H0z" fill="none"></path>
                                                      </svg>
                                                    </div>
                                                  <span class="font-9 col-sm-5 no-padding">{{(action.DueDate) ? (action.DueDate | date: 'yyyy-MM-dd') : 'Pending'}}</span>
                                                  <span  class="font-9 col-sm-7 no-padding">{{action.TaskName}}</span>
                                                  <span style="text-align: left;" class="font-11 col-sm-5 no-padding">{{action.QuoteNo}}</span>
                                                  <span style="text-align: left;" class="font-11 col-sm-7 no-padding">{{action.PlannedHours.toFixed(2)}}hrs
                                                      <span style="color: red;"> {{(action.TotalScheduledHours > 0 && action.UnScheduled == true) ? ( '(' +action.TotalScheduledHours.toFixed(2) + ' hrs)') : ''}}</span>
                                                      </span>
                                                  <span  style="text-align: left;" class="font-11 col-sm-12 no-padding">{{action.SiteName}}</span>
                                                  <span class="font-9 col-sm-11 no-padding">{{action.ProjectManagerName}}</span>
                                                  <i class="fas fa-arrow-circle-right col-sm-1 no-padding arrow-sched" (click)="scheduleUnassignedAction(action.ManageActionId,action.TotalScheduledHours)"></i>
                                              </mat-card>
                                    
                                              <div *ngIf="actionSchedulingList?.length == 0" style="text-align: center !important"> No data available </div>
                                          </div>
                                      </div>
                                  </tr>
                              </tbody>
                          </table>


                      </div>

                      <div [ngClass]="{'col-sm-10': !isMenuOn, 'col-sm-12': isMenuOn}" class="no-padding" *ngIf="showWeek">
                          <div class="col-sm-12 table-responsive no-padding" id="actioncalendar" style="max-height: 660px;">
                              <table *ngFor="let user of scheduledActionsByWeek, let i = index" class="table table-striped table-bordered table-hover" style="margin-bottom:10px">
                                  <thead *ngIf="i == 0" class="tbl-head">
                                      <tr class="tr-grid-header">
                                          <th>User</th>
                                          <th *ngFor="let date of user.ActionScheduledOnDate">{{date.strDate}}</th>
                                      </tr>
                                  </thead>
                                  <tbody> 
                                      <tr *ngIf="user.UserId == 0">
                                          <td colspan="8" style="text-align: center !important">No data available</td>
                                      </tr>
                                      <tr *ngIf="user.UserId != 0">
                                          <td rowspan="2" class="week-min-width" style="vertical-align: middle; max-width:75px!important; min-width:75px!important"><b>{{user.UserName}}</b></td>
                                          <td *ngFor="let date of user.ActionScheduledOnDate, let j = index" cdkDropList   id="{{user.UserId}}|{{date.Date}}" (cdkDropListDropped)="drop($event, user.UserId, date.Date, date.ActionsList)" [ngClass]="{'bg-gray' : date.Day == 'Saturday' || date.Day == 'Sunday'}">
                                              <div style="width: 185px!important">
                                                  <ng-container *ngFor="let action of date.ActionsList">
                                                      <mat-card id="{{action.ActionDetailId}}|{{action.TimeSheetStatus}}" (dblclick)="openAddPhoneNotesDialog(action.ActionId, action.ActionDetailId, action.TimeSheetStatus)" cdkDrag style="width:100%"  class="item-box space-tab" [ngClass]="getStatusClass(action)">
                                                          <div class="move-handle" cdkDragHandle>
                                                              <svg *ngIf="permissions.write == true && action.TimeSheetStatus != 'Completed'" width="24px" fill="currentColor" viewBox="0 0 24 24" style="width: 18px;">
                                                                <path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path>
                                                                <path d="M0 0h24v24H0z" fill="none"></path>
                                                              </svg>
                                                            </div>
                                                          <span class="font-9 col-sm-5 no-padding">{{action.DueDate}}</span>
                                                      <span  class="font-9 col-sm-7 no-padding">{{action.TaskName}}</span>
                                                      <span  style="text-align: left;" class="font-11 col-sm-5 no-padding">{{action.QuoteNo}}</span>
                                                      <span style="text-align: left;" class="font-11 col-sm-7 no-padding">{{action.AssignedHours != null ? action.AssignedHours.toFixed(2) : '-'}}hrs ({{action.RemainingHours != null ? action.RemainingHours.toFixed(2) + ' hrs' : '-'}})</span>
                                                      <span  style="text-align: left;" class="font-11 col-sm-12 no-padding">{{action.SiteName}}</span>
                                                      <span class="font-9 col-sm-11 no-padding">{{action.ProjectManager}}</span>
                                                      <i (click)="openAddPhoneNotesDialog(action.ActionId, action.ActionDetailId, action.TimeSheetStatus)" class="fas fa-arrow-circle-right col-sm-1 no-padding arrow-sched"></i>
                                                  </mat-card>


                                              </ng-container>
                                              </div>
                                          </td>
                                      </tr>
                                      <tr *ngIf="user.UserId != 0">
                                          <td *ngFor="let date of user.ActionScheduledOnDate">
                                              {{date.Availability}} <br>
                                              <p *ngFor="let holiday of date.Holidays" title="{{holiday.holidayFor}}" style="margin-right: 5px; height: 12px; width: 12px; display: inline-block; background-color: orange; cursor: pointer; border-radius: 50%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
                                              <p *ngFor="let leave of date.Leaves" title="{{leave.vc_leave_activity_log_remarks}}" style="margin-right: 5px; height: 12px; width: 12px; display: inline-block; cursor: pointer; border-radius: 50%;"
                                              [ngClass]="{'redColor': leave.is_approved == false && leave.is_declined == true, 'greenColor': leave.is_approved == true && leave.is_declined == false, 'grayColor': leave.is_approved == false && leave.is_declined == false}">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
                                          </td>
                                      </tr>
                                  </tbody>
                                  <tfoot>
                                      <tr class="cust-foot" style="background-color: #f4cb36c2 !important;" *ngIf="user.UserId != 0">
                                          <td>Total</td>
                                          <th *ngFor="let date of user.ActionScheduledOnDate" class="text-center">{{date.TotalHours.toFixed(2)}}</th>
                                      </tr>
                                  </tfoot>
                              </table>
                              <div *ngIf="scheduledActionsByWeek?.length == 0" style="text-align: center !important"> No data available </div>


                          </div>



                      </div>
                      <div [ngClass]="{'col-sm-7': !isMenuOn, 'col-sm-12': isMenuOn}" *ngIf="showDay" class="no-padding">
                          <div class="col-sm-12 table-responsive inner no-padding" id="actioncalendar" style="height: 500px !important;">
                              <table *ngFor="let user of scheduledActionsByWeek, let i = index" class="table table-striped table-bordered table-hover">
                                  <thead class="tbl-head">
                                      <tr *ngIf="i == 0" class="tr-grid-header">
                                          <th>User</th>
                                          <th *ngFor="let date of user.ActionScheduledOnDate">{{date.strDate}}</th>
                                      </tr>
                                  </thead>
                                  <tbody>
                                      <tr *ngIf="user.UserId == 0">
                                          <td colspan="2" style="text-align: center !important">No data available</td>
                                      </tr>
                                      <tr *ngIf="user.UserId != 0">
                                          <td width="20%" rowspan="2" class="week-min-width" style="vertical-align: middle;"><b>{{user.UserName}}</b></td>
                                          <td *ngFor="let date of user.ActionScheduledOnDate" cdkDropList id="{{user.UserId}}|{{date.Date}}" (cdkDropListDropped)="drop($event, user.UserId, date.Date, date.ActionsList)" [ngClass]="{'bg-gray' : date.Day == 'Saturday' || date.Day == 'Sunday'}">
                                               <div style="width: 165px!important">
                                                  <ng-container *ngFor="let action of date.ActionsList">

                                                  <mat-card id="{{action.ActionDetailId}}" *ngIf="action.TimeSheetStatus == 'Completed' || action.TimeSheetStatus == 'In Progress'" (dblclick)="openAddPhoneNotesDialog(action.ActionId, action.ActionDetailId, action.TimeSheetStatus)" style="width:100%" class="item-box space-tab" [ngClass]="getStatusClass(action)">
                                                      <span style="position: relative; bottom: 2px;" class="font-9 col-sm-7 no-padding">{{action.DueDate}}</span>
                                                      <span style="position: relative; right: 7px;" class="font-9 col-sm-5 no-padding">{{action.TaskName}}</span>
                                                      <span  style="text-align: left;" class="font-11 col-sm-6 no-padding">{{action.QuoteNo}}</span>
                                                      <span class="font-11 col-sm-4 no-padding">{{action.AssignedHours.toFixed(2)}}hrs</span>
                                                      <i (click)="openAddPhoneNotesDialog(action.ActionId, action.ActionDetailId, action.TimeSheetStatus)" class="fas fa-arrow-circle-right col-sm-2 no-padding" style="font-size: 18px !important; vertical-align: top !important;cursor: pointer !important;"></i>
                                                      <span class="font-9 col-sm-12 no-padding">{{action.ProjectManager}}</span>
                                                  </mat-card>

                                                  <mat-card id="{{action.ActionDetailId}}" *ngIf="action.TimeSheetStatus != 'Completed' && action.TimeSheetStatus != 'In Progress'" cdkDrag (dblclick)="openAddPhoneNotesDialog(action.ActionId, action.ActionDetailId, action.TimeSheetStatus)" style="width:100%" class="item-box space-tab" [ngClass]="getStatusClass(action)">
                                                      <span style="position: relative; bottom: 2px;" class="font-9 col-sm-7 no-padding">{{action.DueDate}}</span>
                                                      <span style="position: relative; right: 7px;" class="font-9 col-sm-5 no-padding">{{action.TaskName}}</span>
                                                      <span  style="text-align: left;" class="font-11 col-sm-6 no-padding">{{action.QuoteNo}}</span>
                                                      <span class="font-11 col-sm-4 no-padding">{{action.AssignedHours.toFixed(2)}}hrs</span>
                                                      <i (click)="openAddPhoneNotesDialog(action.ActionId, action.ActionDetailId, action.TimeSheetStatus)" class="fas fa-arrow-circle-right col-sm-2 no-padding" style="font-size: 18px !important; vertical-align: top !important;cursor: pointer !important;"></i>
                                                      <span class="font-9 col-sm-12 no-padding">{{action.ProjectManager}}</span>
                                                  </mat-card>

                                              </ng-container>
                                              </div>
                                          </td>
                                      </tr>
                                      <tr *ngIf="user.UserId != 0">
                                          <td *ngFor="let date of user.ActionScheduledOnDate">
                                              {{date.Availability}} <br>
                                              <p *ngFor="let holiday of date.Holidays" title="{{holiday.holidayFor}}" style="margin-right: 5px; height: 12px; width: 12px; display: inline-block; background-color: orange; cursor: pointer; border-radius: 50%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
                                              <p *ngFor="let leave of date.Leaves" title="{{leave.vc_absence_type}}, {{leave.vc_reason}}" style="margin-right: 5px; height: 12px; width: 12px; display: inline-block; cursor: pointer; border-radius: 50%;"
                                              [ngClass]="{'redColor': leave.is_approved == false && leave.is_declined == true, 'greenColor': leave.is_approved == true && leave.is_declined == false, 'grayColor': leave.is_approved == false && leave.is_declined == false}">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
                                          </td>
                                      </tr>
                                  </tbody>
                                  <tfoot>
                                      <tr class="cust-foot" style="background-color: #f4cb36c2 !important;" *ngIf="user.UserId != 0">
                                          <td class="text-center">Total</td>
                                          <th *ngFor="let date of user.ActionScheduledOnDate" class="text-center">{{date.TotalHours.toFixed(2)}}</th>
                                      </tr>
                                  </tfoot>
                              </table>
                              <div *ngIf="scheduledActionsByWeek?.length == 0" style="text-align: center !important"> No data available </div>
                          </div>
                      </div>
                  </div>
              </div> -->
          
         
          </mat-tab>
          <mat-tab label="Map View">
              <!-- <div class="w-100 "> -->
              <div class="col-sm-12 padding-15">
                  <div class="row">
                      <div class="col-sm-12 no-padding">
                          <button mat-raised-button class="margin-right-10 pull-left"
                              style="color:white; background:#3b7bb8;">
                              <mat-icon>menu</mat-icon>
                          </button>

                          <div class="col-sm-5 no-padding">
                              <div class="d-f">
                                  <div>
                                      From Date:<input class="form-control" class="form-control"
                                          placeholder="MM/DD/YYYY" (keypress)="false" [owlDateTimeTrigger]="dt17"
                                          [owlDateTime]="dt17" name="dt17">
                                      <owl-date-time [pickerType]="'calendar'" #dt17></owl-date-time>
                                  </div>
                                  <div>
                                      To Date:<input class="form-control" class="form-control"
                                          placeholder="MM/DD/YYYY" (keypress)="false" [owlDateTimeTrigger]="dt12"
                                          [owlDateTime]="dt12" name="dt12">
                                      <owl-date-time [pickerType]="'calendar'" #dt12></owl-date-time>

                                  </div>
                                  <div class="">
                                      <button mat-mini-fab class="btn-success">
                                          <mat-icon>youtube_searched_for</mat-icon>
                                      </button>
                                      <button mat-mini-fab style="margin-left: 10px; background-color: #cc2020f5;">
                                          <span>
                                              <mat-icon style="vertical-align: inherit;">settings_backup_restore
                                              </mat-icon>
                                          </span>
                                      </button>
                                  </div>
                              </div>
                          </div>

                          <a mat-raised-button class="pull-right margin-right-10 remove_top_bottom_padding">
                              Next Week
                          </a>
                          <a mat-raised-button class="pull-right margin-right-10 remove_top_bottom_padding">
                              This Week
                          </a>
                          <a mat-raised-button
                              class="pull-right remove_top_bottom_padding filterBtns margin-right-10">
                              Last Week
                          </a>
                          <a mat-raised-button
                              class="pull-right remove_top_bottom_padding filterBtns margin-right-10">
                              Day View
                          </a>
                      </div>
                  </div>
              </div>
              <div class="col-12">
                  <div style="width: 100%"><iframe width="100%" height="600" frameborder="0" scrolling="no"
                          marginheight="0" marginwidth="0"
                          src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=1%20Grafton%20Street,%20Dublin,%20Ireland+(My%20Business%20Name)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"></iframe>
                  </div>

              </div>

          </mat-tab>
          <mat-tab label="Summary View">
              <div class="w-100 ">
                  <div class="col-sm-12" style="margin-bottom: 17px; margin-top: 15px;">
                      <div class="row">
                          <div class="col-sm-12">
                              <div class="col-sm-6">
                                  <mat-radio-group aria-label="Select an option">
                                      <mat-radio-button color="warn" [value]="1" [(ngModel)]="checked" checked >
                                          <small style="font-size: 14px;">Task View&nbsp;&nbsp;&nbsp;</small>
                                      </mat-radio-button>
                                      <mat-radio-button color="warn" [value]="0">
                                          <small style="font-size: 14px;">Overall View &nbsp;&nbsp;&nbsp;</small>
                                      </mat-radio-button>
                                  </mat-radio-group>
                              </div>
                              <div class="col-sm-6">
                                  <a mat-raised-button class="pull-right margin-right-10 remove_top_bottom_padding">
                                      Next Week
                                  </a>

                                  <a mat-raised-button class="pull-right margin-right-10 remove_top_bottom_padding">
                                      This Week
                                  </a>
                                  <a mat-raised-button
                                      class="pull-right remove_top_bottom_padding filterBtns margin-right-10">
                                      Last Week
                                  </a>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="col-sm-12">

                      <table class="table table-striped table-bordered table-hover">
                          <thead class="tbl-head">
                              <tr class="tr-grid-header text-center">
                                  <th>User Name</th>
                                  <th class="text-center">Sunday</th>
                                  <th class="text-center">Monday</th>
                                  <th class="text-center">Tuesday</th>
                                  <th class="text-center">Wednesday</th>
                                  <th class="text-center">Thursday</th>
                                  <th class="text-center">Friday</th>
                                  <th class="text-center">Saturday</th>
                                  <th class="text-center">Total</th>
                              </tr>
                          </thead>
                          <tbody>
                              <tr *ngFor="let item of summaryTable">
                                  <th>{{item.user}}</th>
                                  <td class="text-center">{{item.sunday}} hrs</td>
                                  <td class="text-center">{{item.monday}} hrs</td>
                                  <td class="text-center">{{item.tuesday}}hrs</td>
                                  <td class="text-center">{{item.wednesday}} hrs</td>
                                  <td class="text-center">{{item.thursday}} hrs</td>
                                  <td class="text-center">{{item.friday}} hrs</td>
                                  <td class="text-center">{{item.saturday}} hrs</td>
                                  <th class="text-center">{{item.total}} hrs</th>
                              </tr>
                          </tbody>
                          <td *ngIf="summaryTable?.length == 0" colspan="9" style="text-align: center !important"> No
                              data available </td>
                      </table>


                  </div>
              </div>
          </mat-tab>
      </mat-tab-group>
  </div>
</div>


<div bsModal class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-child-name">

  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-header">
              <h4 id="dialog-child-name" class="modal-title">
                  <b>Send Email</b>
              </h4>
          </div>
          <div class="modal-body">
              <div>
                  <!-- <div class="form-group col-sm-12 no-padding">
                              <label class="col-sm-5 control-label add-member-label">Subject: </label>
                              
                          </div> -->
                  <div class="form-group col-sm-12">
                      <input type="text" class="form-control" placeholder="Subject">
                  </div>
                  <!-- <div class="form-group col-sm-12  no-padding">
                              <label class="col-sm-5 control-label add-member-label">Compose Email: </label>
                              
                          </div> -->
                  <div class="form-group col-sm-12">
                      <app-ngx-editor height="200px" minHeight="50px" [placeholder]="'Compose Email'"
                          [spellcheck]="true"></app-ngx-editor>
                  </div>
              </div>
          </div>
          <mat-dialog-actions align="end" style="margin: 0px 20px 20px 0px;">
              <button mat-raised-button class="add-dark-hover btn-default" style="margin-right: 3px;">Cancel</button>
              <button mat-raised-button style="margin-left: 5px;margin-right: 20px;" class="btn-success">
                  <i class="material-icons">send</i>Send</button>
          </mat-dialog-actions>
      </div>
  </div>
</div>
